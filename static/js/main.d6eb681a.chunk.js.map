{"version":3,"sources":["firebase.js","routes/Auth.js","components/Nweet.js","routes/Home.js","routes/Profile.js","components/Navigation.js","components/Router.js","components/App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseInstance","authService","auth","dbService","firestore","storageService","storage","Auth","useState","email","setEmail","password","setPassword","NewAccount","setNewAccount","error","setError","onChange","event","target","name","value","onSubmit","a","preventDefault","createUserWithEmailAndPassword","data","signInWithEmailAndPassword","console","log","message","onSocialClick","provider","GoogleAuthProvider","signInWithPopup","className","icon","faUsers","size","color","type","placeholder","required","onClick","prev","Nweet","nweetObj","isOwner","editing","setEditing","text","newNweet","setNewNweet","onDeleteClick","ok","window","confirm","doc","id","delete","refFromURL","attachmentUrl","toggleEditing","update","src","width","height","Home","userObj","nweet","setNweet","nweets","setNweets","attachment","setAttachment","useEffect","collection","onSnapshot","snapshot","nweetArray","docs","map","attachmentRef","ref","child","uid","uuidv4","putString","response","getDownloadURL","createdAt","Date","now","creatorId","add","maxLength","for","faCamera","accept","theFile","files","reader","FileReader","onloadend","finishedEvent","result","currentTarget","readAsDataURL","faPaperPlane","refreshUser","history","useHistory","displayName","newDisplayName","setNewDisplayName","getMyName","where","orderBy","get","updateProfile","push","signOut","location","reload","Navigation","to","faHome","faUser","align","AppRouter","isLoggedIn","exact","path","Profile","App","init","setInit","setUserObj","onAuthStateChanged","user","args","currentUser","Boolean","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d6eb681a.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCFqBFUERyG86duSFH6QgiTdn1LW4U-ZjA\",\r\n    authDomain: \"fir-practice-55cc5.firebaseapp.com\",\r\n    projectId: \"fir-practice-55cc5\",\r\n    storageBucket: \"fir-practice-55cc5.appspot.com\",\r\n    messagingSenderId: \"253577554696\",\r\n    appId: \"1:253577554696:web:821ba5393de6503d22dabd\",\r\n    measurementId: \"G-2JT7BLZHQK\"\r\n  };\r\n  // Initialize Firebase\r\n\r\n  firebase.initializeApp(firebaseConfig);\r\n  \r\n  export const firebaseInstance = firebase;\r\n  export const authService = firebase.auth();\r\n  export const dbService = firebase.firestore();\r\n  export const storageService = firebase.storage();","import { faCamera, faUser, faUsers } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport react, { useState } from 'react';\r\nimport { authService, firebaseInstance } from '../firebase';\r\n\r\nconst Auth = () => {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\"); /* 이걸 Hooks라고 하는 듯... 아마 뒤에 꺼로 앞의 것 값을 바꿔주는 것 같음 */\r\n    const [NewAccount, setNewAccount] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const onChange = (event) => {\r\n        const {target: {name, value}} = event;\r\n        if(name === \"email\"){\r\n            setEmail(value);\r\n        } else if(name === \"password\"){\r\n            setPassword(value);\r\n        }\r\n    };\r\n    const onSubmit = async (event) => {\r\n        event.preventDefault(); /* 기본행위를 실행하지 말아라! */\r\n        try{\r\n            let data;\r\n            if(NewAccount){data = await authService.createUserWithEmailAndPassword(\r\n                email,\r\n                password\r\n              );\r\n            } else {\r\n              data = await authService.signInWithEmailAndPassword(email, password);\r\n            }\r\n            console.log(data);\r\n        }\r\n        catch(error){\r\n            setError(error.message);\r\n        }\r\n        \r\n    };\r\n\r\n    const toggleAccount = () => setNewAccount((prev) => !prev); //기존 값의 반대를 출력하는 함수\r\n    const onSocialClick = async (event) => {\r\n        const {target : {name}} = event;\r\n        let provider;\r\n        if(name === \"google\"){\r\n            provider = new firebaseInstance.auth.GoogleAuthProvider();\r\n        }\r\n        const data = await authService.signInWithPopup(provider);\r\n        console.log(data);\r\n    }\r\n\r\n    return(\r\n    <div className=\"container\">\r\n        <span className=\"iconst\"><FontAwesomeIcon icon={faUsers} size=\"4x\" color={\"#0455BF\"}/></span>\r\n        <form className=\"AuthContainer\" onSubmit={onSubmit}>\r\n            <input name=\"email\" type=\"email\" placeholder=\"E-mail\" required value={email} onChange={onChange}/>\r\n            <input name=\"password\" type=\"password\" placeholder=\"Password\" onChange={onChange} value={password} required />\r\n            <input className=\"btn\" type=\"submit\" value={NewAccount ? \"Create Account\" : \"Sign In\"} />\r\n            {error}\r\n        </form>\r\n        <span onClick={toggleAccount}>\r\n            {NewAccount ? \"Sign In\" : \"Create Account\"}\r\n        </span>\r\n        <div>\r\n            <button className=\"google\" name=\"google\" onClick={onSocialClick}>Start with Google</button>\r\n        </div>\r\n    </div>\r\n    );\r\n};\r\nexport default Auth;","import React, { useState } from 'react';\r\nimport { dbService, storageService } from '../firebase';\r\n\r\nconst Nweet = ({ nweetObj, isOwner }) => {\r\n\r\n    const [editing, setEditing] = useState(false);\r\n    const [newNweet, setNewNweet] = useState(nweetObj.text);\r\n    const onDeleteClick = async () => {\r\n        const ok = window.confirm(\"ㄹㅇ로 삭제할 거? ㅋㅋ\");\r\n        console.log(ok);\r\n        if(ok){\r\n            await dbService.doc(`nweets/${nweetObj.id}`).delete();\r\n            await storageService.refFromURL(nweetObj.attachmentUrl).delete();\r\n        }\r\n    }\r\n\r\n    const toggleEditing = () => setEditing((prev) => !prev); // 기존 값 반대를 출력\r\n    const onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        await dbService.doc(`nweets/${nweetObj.id}`).update({\r\n            text: newNweet,\r\n        });\r\n        toggleEditing();\r\n\r\n    }\r\n\r\n    const onChange = (event) => {\r\n        const {\r\n            target: {value},\r\n        } = event;\r\n        setNewNweet(value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {editing ? (\r\n                <>\r\n                <form onSubmit={onSubmit}>\r\n                    <input type=\"text\" placeholder=\"Edit your Nweet\" onChange={onChange} value={newNweet} />\r\n                    <input type=\"submit\" value=\"Edit\"/>\r\n                </form>\r\n                <button onClick={toggleEditing}>Cancel</button>\r\n                </>\r\n            ) : (\r\n                <>\r\n                <h4>{nweetObj.text}</h4>\r\n                {nweetObj.attachmentUrl && (\r\n                <img src={nweetObj.attachmentUrl} width=\"50px\" height=\"50px\" />\r\n                )}\r\n                {isOwner && (\r\n                    <>\r\n                    <button onClick={onDeleteClick}>Delete</button>\r\n                    <button onClick={toggleEditing}>Edit</button>\r\n                    </>\r\n                )}\r\n                </>\r\n            )}            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Nweet;","import react, { useEffect, useState } from 'react';\r\nimport { dbService, storageService } from '../firebase';\r\nimport Nweet from '../components/Nweet';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCamera, faPaperPlane, faUpload } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst Home = ({userObj}) => {\r\n    const [nweet, setNweet] = useState(\"\");\r\n    const [nweets, setNweets] = useState([]);\r\n    const [attachment, setAttachment] = useState(\"\");\r\n    /* const getNweats = async() => {\r\n        const dbNweets = await dbService.collection(\"nweets\").get();\r\n        dbNweets.forEach(document => {\r\n            const nweetObject = {\r\n                ...document.data(),\r\n                id: document.id,\r\n            }\r\n            setNweets((prev) => [nweetObject, ...prev]);\r\n        });\r\n    } */ \r\n    //위 방식은 좀 구식이란다.. realtime 지원 ㄴㄴ\r\n\r\n    useEffect(() => {\r\n        dbService.collection(\"nweets\").onSnapshot((snapshot) => {\r\n            const nweetArray = snapshot.docs.map((doc) => ({\r\n              id: doc.id,\r\n              ...doc.data(),\r\n            }));\r\n            setNweets(nweetArray);\r\n          });\r\n        }, []);\r\n    \r\n\r\n    const onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        let attachmentUrl = \"\";\r\n        if (attachment !== \"\") {\r\n          const attachmentRef = storageService\r\n            .ref()\r\n            .child(`${userObj.uid}/${uuidv4()}`);\r\n          const response = await attachmentRef.putString(attachment, \"data_url\");\r\n          attachmentUrl = await response.ref.getDownloadURL();\r\n        }\r\n        const nweetObj = {\r\n            text : nweet,                       \r\n            createdAt: Date.now(),\r\n            creatorId: userObj.uid,\r\n            attachmentUrl,\r\n        }\r\n        await dbService.collection(\"nweets\").add(nweetObj);\r\n        setNweet(\"\");\r\n        setAttachment(\"\");\r\n    };\r\n\r\n    const onChange = (event) => {\r\n      const {\r\n        target: { value },\r\n      } = event;\r\n      setNweet(value);\r\n    };\r\n\r\n    const onFileChange = (event) => {\r\n        const {\r\n            target: {files},\r\n        } = event;\r\n        const theFile = files[0];\r\n        const reader = new FileReader();\r\n        reader.onloadend = (finishedEvent) => {\r\n            const {\r\n                currentTarget: {result},\r\n            } = finishedEvent;\r\n            setAttachment(result);\r\n        }\r\n        reader.readAsDataURL(theFile);\r\n    }\r\n\r\n    const onClearAttachment = () => {\r\n        setAttachment(\"\");\r\n    }\r\n    \r\n    return (\r\n      <div className=\"container_h\">\r\n      <div className=\"sub_container\">\r\n        <div className=\"form_container\">\r\n        <form onSubmit={onSubmit}>\r\n          <input\r\n            className=\"content\"\r\n            value={nweet}\r\n            onChange={onChange}\r\n            type=\"text\"\r\n            placeholder=\"What's on your mind?\"\r\n            maxLength={120}\r\n            required\r\n          />\r\n          <label for=\"file_input\"><FontAwesomeIcon icon={faCamera} size=\"2x\" color=\"#0455BF\"/></label>\r\n          <input className=\"attat\" id=\"file_input\" type=\"file\" accept=\"image/*\" onChange={onFileChange}/>\r\n          <button className=\"subm\" type=\"submit\" value=\"Nweet\"><FontAwesomeIcon icon={faPaperPlane} size=\"2x\" color=\"#0455BF\"/></button>\r\n          {attachment && <div>\r\n                <img src={attachment} height=\"50px\" width=\"50px\" />\r\n                <button onClick={onClearAttachment}>Clear</button>\r\n              </div>\r\n              }\r\n            \r\n        </form>\r\n        </div>\r\n        <div className=\"nweet_container\">\r\n        {nweets.map((nweet) => (\r\n            <h1><Nweet id=\"nweeting\"key={nweet.createdAt} nweetObj={nweet} isOwner={nweet.creatorId === userObj.uid}/></h1>\r\n        ))}\r\n        </div>\r\n      </div>\r\n      </div>\r\n    );\r\n  };\r\n  export default Home;","import react, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { authService, dbService } from '../firebase';\r\n\r\nexport default ({userObj, refreshUser}) => {\r\n    const history = useHistory();\r\n    const onLogOutClick = () => {\r\n        authService.signOut();\r\n        history.push('/');\r\n        window.location.reload();\r\n    }\r\n\r\n    const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\r\n\r\n    const getMyName = async() => {\r\n        const nweets = await dbService.collection(\"nweets\").where(\"creatorId\", \"==\", userObj.uid).orderBy(\"createAt\").get();\r\n        console.log(nweets.docs.map((doc) => doc.data()));\r\n    }\r\n\r\n    const onChange = (event) => {\r\n        const {\r\n            target: {value},\r\n        } = event;\r\n        setNewDisplayName(value);\r\n    }\r\n\r\n    const onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        if(newDisplayName !== userObj.displayName){\r\n            await userObj.updateProfile({\r\n                displayName: newDisplayName,\r\n            })\r\n            refreshUser();\r\n            history.push('/');\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getMyName();\r\n    }, [])\r\n    return (\r\n        <>\r\n            <form onSubmit={onSubmit}>\r\n                <input type=\"text\" onChange={onChange} /><input type=\"submit\" value=\"Update Profile\" />\r\n            </form>\r\n            <button onClick={onLogOutClick}>Log Out</button>\r\n        </>\r\n    )\r\n}","import { faHome, faUser } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Navigation = ({userObj}) => (\r\n    <nav>\r\n        <ul className=\"nav_container\">\r\n            <li><Link className=\"navL\" to=\"/\"><span><FontAwesomeIcon icon={faHome} size=\"2x\" color=\"#0455BF\"/></span><p>&nbsp;</p></Link></li>\r\n            <li className=\"user_container\"><Link className=\"navL\" to=\"/Profile\">\r\n                <span><FontAwesomeIcon icon={faUser} size=\"2x\" color=\"#0455BF\" /></span>\r\n                <p align=\"center\">{userObj.displayName}의 Profile</p>\r\n                </Link>\r\n            </li>\r\n        </ul>\r\n    </nav>\r\n) // 이거 중괄호는 안되고 괄호만 되는데 왜 그런지 정확히는 모르겠다.\r\n\r\nexport default Navigation;","import react, { useState } from 'react';\r\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Auth from '../routes/Auth';\r\nimport Home from '../routes/Home';\r\nimport Profile from '../routes/Profile';\r\nimport Navigation from './Navigation';\r\n\r\nconst AppRouter = ({isLoggedIn, userObj, refreshUser}) => {\r\n    \r\n    return(\r\n        <Router>\r\n            {isLoggedIn && <Navigation userObj={userObj} />}\r\n            <Switch>\r\n                {isLoggedIn ? (\r\n                    <>\r\n                        <Route exact path='/'>\r\n                            <Home userObj={userObj} />\r\n                        </Route>\r\n                        <Route exact path='/profile'>\r\n                            <Profile userObj={userObj} refreshUser={refreshUser}/>\r\n                        </Route>\r\n                    </>\r\n                ):(\r\n                    <>\r\n                        <Route exact path='/'>\r\n                            <Auth />\r\n                        </Route>\r\n                    </>\r\n                )}\r\n            </Switch>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default AppRouter;","import React, { useState, useEffect } from \"react\";\nimport AppRouter from \"../components/Router\"\nimport { authService } from \"../firebase\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [userObj, setUserObj] = useState(null);\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) {\n        if(user.displayName === null){\n          user.updateProfile({\n            displayName: \"user\",\n          })\n        }\n        setUserObj({\n          displayName: user.displayName,\n          uid: user.uid,\n          updateProfile: (args) => user.updateProfile(args),\n        });\n      }\n      setInit(true);\n    });\n  }, []);\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    setUserObj({\n      displayName: user.displayName,\n      uid: user.uid,\n      updateProfile: (args) => user.updateProfile(args),\n    });\n  };\n  return (\n    <>\n      {init ? (\n        <AppRouter\n          refreshUser={refreshUser}\n          isLoggedIn={Boolean(userObj)}\n          userObj={userObj}\n        />\n      ) : (\n        \"Initializing...\"\n      )}\n    </>\n  );\n}\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport firebase from './firebase';\nimport './style.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}